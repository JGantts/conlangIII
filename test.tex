\documentclass[12pt]{article}

% -----------------------------
% Packages
% -----------------------------

% For advanced font selection
\usepackage[linguistics]{forest}

\usepackage{fontspec}

% For colorful and modern layouts
\usepackage{xcolor}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{titlesec}
\usepackage{parskip} % Adds space between paragraphs
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{marginnote} % For margin notes
\usepackage{tikz-qtree}
\usepackage{float}
\usepackage{subcaption}

\usepackage[block]{leipzig}
\usepackage{gb4e}
\usepackage{typgloss}

\usepackage{array}

% -----------------------------
% Theme Colors
% -----------------------------

\definecolor{primary}{RGB}{47, 128, 190}    % Muted Blue
\definecolor{secondary}{RGB}{192, 57, 43}   % Deep Red
\definecolor{accent}{RGB}{39, 174, 96}      % Cool Green
\definecolor{background}{RGB}{255, 255, 255} % Softer Light Gray
\definecolor{link}{RGB}{128, 0, 128}       % Regal Purple

% -----------------------------
% Page Geometry
% -----------------------------

\geometry{
    a4paper,
    left=1in,
    right=1in,
    top=1in,
    bottom=1in
}

% -----------------------------
% Fonts
% -----------------------------

\setmainfont{NotoSansDisplay}[
    Path=fonts/,
    Extension=.ttf,
    UprightFont=*-Regular,
    BoldFont=*-Bold,
    ItalicFont=*-Italic,
    BoldItalicFont=*-BoldItalic,
]

\newfontfamily{\textthin}{NotoSansDisplay}[
    Path=fonts/,
    Extension=.ttf,
    UprightFont=*-Thin,
    BoldFont=*-Light,
    ItalicFont=*-ThinItalic,
    BoldFont=*-LightItalic,
]

\newfontfamily{\textserif}{NotoSerifDisplay}[
    Path=fonts/,
    Extension=.ttf,
    UprightFont=*-Regular,
    BoldFont=*-Bold,
    ItalicFont=*-Italic,
    BoldItalicFont=*-BoldItalic,
]

\newfontfamily{\textserifthin}{NotoSerifDisplay}[
    Path=fonts/,
    Extension=.ttf,
    UprightFont=*-Thin,
    BoldFont=*-Light,
    ItalicFont=*-ThinItalic,
    BoldFont=*-LightItalic,
]

% -----------------------------
% Section Formatting
% -----------------------------

\titleformat{\section}
  {\color{primary}\normalfont\Large\bfseries}
  {\thesection}{1em}{}

\titleformat{\subsection}
  {\color{secondary}\normalfont\large\bfseries}
  {\thesubsection}{1em}{}

\titleformat{\subsubsection}
  {\color{accent}\normalfont\normalsize\bfseries}
  {\thesubsubsection}{1em}{}

% -----------------------------
% Header and Footer
% -----------------------------

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\textcolor{primary}{\leftmark}}
\fancyhead[R]{\textcolor{secondary}{\thepage}}
\fancyfoot[C]{\textcolor{accent}{My LaTeX Document}}

% -----------------------------
% Hyperlinks
% -----------------------------

\hypersetup{
    colorlinks=true,
    linkcolor=link,
    urlcolor=accent,
    citecolor=secondary
}

% -----------------------------
% Title Styling
% -----------------------------

\newcommand{\customtitle}[1]{
    \begin{center}
        \vspace*{2cm}
        {\Huge\bfseries\color{primary} #1}\\
        \vspace{0.5cm}
        {\Large My Third Major Conlang Attempt}\\
        \vspace{1cm}
    \end{center}
    \vspace{1cm}
    \hrule
    \vspace{1cm}
}

% -----------------------------
% Decorative Elements with TikZ
% -----------------------------

\newcommand{\decorativeLine}{
    \begin{tikzpicture}
        \draw [primary, thick] (0,0) -- (\linewidth,0);
        \draw [secondary, thick] (0,0.1) -- (\linewidth,0.1);
    \end{tikzpicture}
}

\newcommand{\exref}[1]{(\ref{#1})}

% -----------------------------
% Tree Decoration
% -----------------------------

\tikzset{
  my colour/.style={text=#1},
  my tree/.style={
    font=\textthin,
  },
  my leaf/.style={
  },
}
\forestset{
  every leaf node/.style={
    if n children=0{#1}{}
  },
  every tree node/.style={
    if n children=0{}{#1}
  },
}

\newcommand{\leafnode}[2]{\textthin{#2} \\ #1 }

% -----------------------------
% Gloss Terms
% -----------------------------

\newleipzig{vbz}{vbz}{verbalizer}
\newleipzig{c}{c}{chaos class}
\newleipzig{l}{l}{life class}
\newleipzig{o}{o}{order class}
\newleipzig{d}{d}{death class}
\newleipzig{hab}{hab}{habitual}
\newleipzig{vol}{vol}{voluntary}
\newleipzig{pprt}{pprt}{past participle}
\newleipzig{aprt}{aprt}{active participle}
\newleipzig{sup}{sup}{superessive}
\newleipzig{pert}{pert}{pertingent}
\newleipzig{dummy}{dummy}{dummy}
\newleipzig{comm}{comm}{communicative}

\makeglossaries

\glsdisablehyper
\renewcommand{\leipzigfont}[1]{\color{primary}{\textsc{#1}}}

% -----------------------------
% Document
% -----------------------------

\begin{document}
\pagecolor{background}

% Custom Title
\customtitle{Welcome to JGantts Conlang III}

% Introduction Section
\section{Intro}
This is my third major conlang attempt since 2020-ish.

\section{Phonology}
\begin{table}[H]
\begin{tabular}{clclllllllll}
m                    & \multicolumn{1}{c}{mʷ} & n &                       &                         &                          &                       &                        &                       &  & \multicolumn{1}{c}{i} & \multicolumn{1}{c}{u} \\
p                    & \multicolumn{1}{c}{pʷ} & t &                       &                         &                          & \multicolumn{1}{c}{k} & \multicolumn{1}{c}{kʷ} & \multicolumn{1}{c}{ʔ} &  & \multicolumn{1}{c}{e} & \multicolumn{1}{c}{o} \\
b                    & \multicolumn{1}{c}{bʷ} & d &                       &                         &                          & \multicolumn{1}{c}{g} & \multicolumn{1}{c}{bʷ} &                       &  & \multicolumn{1}{c}{a} & \multicolumn{1}{c}{ɑ} \\
f                    &                        & s & \multicolumn{1}{c}{ʃ} & \multicolumn{1}{c}{t̠ʃ} & \multicolumn{1}{c}{t̠ʃʷ} &                       &                        & \multicolumn{1}{c}{x} &  &                       &                       \\
\multicolumn{1}{l}{} &                        & z & \multicolumn{1}{c}{ʒ} & \multicolumn{1}{c}{d̠ʒ} & \multicolumn{1}{c}{ʒʷ}   &                       &                        &                       &  &                       &                       \\
w                    &                        & l & \multicolumn{1}{c}{ɹ} &                         &                          & \multicolumn{1}{c}{j} &                        &                       &  &                       &                      
\end{tabular}
\end{table}

\section{Orthography (Latin)}
\begin{table}[H]
\begin{tabular}{clcllllllll}
m                    & \multicolumn{1}{c}{mu} & n &                       &                        &                       &                        &                        &  & \multicolumn{1}{c}{i} & \multicolumn{1}{c}{}  \\
p                    & \multicolumn{1}{c}{pu} & t &                       &                        & \multicolumn{1}{c}{k} & \multicolumn{1}{c}{qu} & \multicolumn{1}{c}{tt} &  & \multicolumn{1}{c}{e} & \multicolumn{1}{c}{o} \\
b                    & \multicolumn{1}{c}{bu} & d &                       &                        & \multicolumn{1}{c}{g} & \multicolumn{1}{c}{gu} &                        &  & \multicolumn{1}{c}{æ} & \multicolumn{1}{c}{a} \\
f                    &                        & s & \multicolumn{1}{c}{c} & \multicolumn{1}{c}{tc} &                       &                        & \multicolumn{1}{c}{h}  &  &                       &                       \\
\multicolumn{1}{l}{} &                        & z & \multicolumn{1}{c}{ç} & \multicolumn{1}{c}{dç} &                       &                        &                        &  &                       &                       \\
u                    &                        & l & \multicolumn{1}{c}{r} &                        & \multicolumn{1}{c}{y} &                        &                        &  &                       &                      
\end{tabular}
\end{table}


\newpage
\section{Grammar}

\subsection{Intro to Grammar}
\begin{exe}
\ex \label{ex:whisper1}
Melibe dçaraqueçv uinalo iga puina.
\gll
m-        elibe dç-  ar-     aqueçv  u-     inalo  iga pu-        ina\\
NOM.C.PL- star  HAB- VBZ.IPFV- whisper ACC.O- secret to  ACC.L.VOL- 3PL\\
\trans `The stars whisper secrets to those who listen.'\\
\end{exe}

\scalebox{0.75}{
\begin{forest}
  for tree={
    every leaf node={my leaf},
    every tree node={my tree},
    parent anchor=south,
    child anchor=north,
    edge=primary
  }
[ IP
    [ NP
        [ SPEC
            [ \leafnode{m}{\Nom{}.\C{}.\Pl{}} ]
        ]
        [ N
            [ \leafnode{elibe}{star(s)} ]
        ]
    ]
    [ I'
        [ I
	        [\leafnode{dç}{\Hab{}} ]
        ]
        [ IP
            [ I
              	[\leafnode{ar}{\Vbz{}.\Ipfv{}} ]
			]
			[ VP
                [ V'
                    [ V 
                    	[\leafnode{aqueçv}{whisper} ]
                    ]
                    [ NP
                        [ SPEC
    	                    [\leafnode{u}{\Acc{}.\O{}.\Pl{}} ]
                        ]
                        [ N
                        	[\leafnode{inalo}{secret(s)} ]
                        ]
                    ]
                ]
                [ PP
                    [ P
                        [ \leafnode{iga}{\All{}} ]
                    ]
                    [ NP
                        [ SPEC
                        	[ \leafnode{pu}{\Acc{}.\L{}.\Vol{}} ]
                        ]
                        [ N
                            [ \leafnode{ina}{\Third{}\Pl{}} ]
                        ]
                    ]
                ]
            ]
        ]
    ]
]
\end{forest}
}

Example \exref{ex:whisper1} shows us how Voluntary Accusative can be used.\\

\newpage
.\\
\newpage

\subsection{Voluntary Accusative}

\paragraph{Intro}
The Voluntary Accustive is paired with the Unmarked Accusative,
also known as the Involuntary Accusative.
These two markers are used to switch the meaning of the verb
in ways that would typically be
different lexemes in English.

\paragraph{Hear vs Listen — vbino \textit{(Sing)}}
Example \exref{voluntary} shows us how Voluntary Accusative can be used.
Ex. \exref{voluntary:invol} features the standard (involuntary) Accustative to mean "hear".
Ex. \exref{voluntary:vol} meanwhile, shows the Voluntary Accustative to mean "listen".

\begin{exe}
\ex \label{voluntary}
\begin{xlist}
\ex \label{voluntary:invol}
Iga bedi ogvbino metil.
\gll
iga  b-         edi og-     vbino     m-       etil \\
COMM ACC.SG/DU- 1SG PST.PFV sing NOM.PL- birds \\
\trans 
    {\textthin{}'The birds sang to me.' \textit{(passive patient)}}\\
    \textit{'I heard the birds singing.'}

\ex \label{voluntary:vol}
Iga puedi ogvbino metil.
\gll
iga  pu-            edi og-     vbino     m-       etil \\
COMM ACC.SG/DU.VOL- 1SG PST.PFV sing NOM.PL- birds \\
\trans 
    {\textthin{}'The birds sang to me.' \textit{(active patient)}}\\
    \textit{'I listened to the birds singing.'}
\end{xlist}
\end{exe}

\paragraph{Go vs Fall — ormir \textit{(Lower)}}
Here a dummy pronoun is used when there is no obvious Actor.
The dummy gets the Nominative marker.
In the case of \textbf{ormir} \textit{(lower)} the Nominative Chaos marker is used.
The verbs are grouped by which class of marker they use.

\begin{exe}
\ex \label{fall}
\begin{xlist}
\ex \label{fall:invol}
Tcitti bedi ogormir uilompi.
\gll
tc-       itti  b-         edi og-     ormir uilompi\\
NOM.C.SG/DU DUMMY ACC.SG/DU- 1SG PST.PFV lower  downstairs\\
\trans 
    {\textthin{}'It tossed me downstairs.'}\\
    \textit{'I fell downstairs.'}\\

\ex \label{fall:vol}
Tcitti puedi ogormir uilompi.
\gll
tc-       itti  pu-            edi og-     ormir    uilompi\\
NOM.C.SG/DU DUMMY ACC.SG/DU.VOL- 1SG PST.PFV lower downstairs\\
\trans 
    {\textthin{}'It lowered me downstairs.'}\\
    \textit{'I went downstairs.'}\\
\end{xlist}
\end{exe}



\begin{table}[H]
\begin{tabular}{ m{1em} m{5em} | m{5em} | m{5em}| m{10em} }
& Lexeme & INVOL & VOL & English Approx \\
\hline\hline
\multicolumn{5}{l}{ \textbf{Chaos} } \\
\hline
& ormir & fall & descend & lower \\ 
& amuak & drift & go & put \\ 
&       & stumble & run & put \\
&       & sink & dive & sink (something)\\ 

& aspabe & be hit & catch & throw (at and hit) \\ 

\hline
\multicolumn{4}{l}{ \textbf{Life} } \\
\hline
&        & see & look & show (self)\\ 
&       & hear & listen & tell\\ 
& vbino  & hear & listen & sing\\ 
       
\hline
\multicolumn{4}{l}{ \textbf{Order} } \\
\hline
&       & remember & think & remind \\ 
&       & realize & decide & pursuade\\ 
       
\hline
\multicolumn{4}{l}{ \textbf{Death} } \\
\hline
& ackak  & shatter & break & break \\
&       & drop & throw & take\\  

\end{tabular}
\end{table}

\paragraph{Be Hit vs Catch – aspabe \textit{(Throw)}}
\begin{exe}
\ex \label{fall}
\begin{xlist}
\ex \label{fall:invol}
Tcitti iga bedi ogaspabe fipa.
\gll
tc-         itti  iga  b-         edi og-     aspabe f-    ipa\\
NOM.C.SG/DU DUMMY COMM ACC.SG/DU- 1SG PST.PFV throw  ACC.O rock\\
\trans 
    {\textthin{}'It threw a rock at me.'}\\
    \textit{'A rock hit me.'}\\

\ex \label{fall:vol}
Tcitti iga puedi ogaspabe fipa.
\gll
tc-         itti  iga  pu-            edi og-     aspabe f-    ipa\\
NOM.C.SG/DU DUMMY COMM ACC.SG/DU.VOL- 1SG PST.PFV throw  ACC.O rock\\
\trans 
    {\textthin{}'It threw a rock to me.'}\\
    \textit{'I caught a rock.'}\\
\end{xlist}
\end{exe}

\newpage

\begin{exe}
\ex \label{ex:catwindow}
Tcipo ogitcuido bino mvho gueno, vrotizvlo uitto otemvsti yvno gueno.
\gll
tc-         ipo og-     itcuido bino {mvho gueno} vr-   ot-      izvlo u-          itto ot-      emvsti yvno gueno\\
NOM-C.SG/DU cat PST.PFV perch   SUP  windowsill   APRT- PST.IPFV watch C.ACC.SG/DU rain PST.IPFV flow   PERT glass\\
\trans `The cat perched on the windowsill, watching the rain cascade down the glass.'\\
\end{exe}

\scalebox{1}{
\begin{forest}
  for tree={
    every leaf node={my leaf},
    every tree node={my tree},
    parent anchor=south,
    child anchor=north,
    edge=primary
  }
[ VP
    [ NP
        [ \leafnode{tcipo}{cat.\Nom{}} ]
    ]
    [ V'
        [V'
        	[VP
        		[ V'
					[V'
    					[ V
    	        			[ \leafnode{ogitcuido}{perched.\Pst{}.\Pfv{}} ]	
    					]
            		]
        	        [PP [on the windowsill,roof ] ]
	        	]
            ] 
        ]
	        [CP 
	        	[watching...,roof]
			]
    ]
 ]
\end{forest}
}

Example \exref{ex:catwindow} shows us how Participles can be used.

\newpage

\setglossarysection{section}
\printglosses

\end{document}
